<div class="panel-body">
  <form class="form-horizontal" novalidate="novalidate" (ngSubmit)="save()" [formGroup]="authForm">
    <fieldset>
      <fm-error [messages]='errorMessages'></fm-error>

      <h3>
        Please enter the flat and main tenant details:
      </h3>

      <h4>Tenant</h4>
      <div formGroupName="userForm">
        <div class="form-row">
          <div class="form-group col-6">
            <label for="login">Login</label>
            <input id="login" type="text" class="form-control form-control-sm" placeholder="Login (required)" formControlName="login"
              [ngClass]="{'is-invalid': (login.dirty || login.touched) && !login.valid }" />
          </div>
          <div class="form-group col-6">
            <label for="fullName">Full name</label>
            <input id="fullName" type="text" class="form-control form-control-sm" placeholder="Full name (required)" formControlName="fullName"
              [ngClass]="{'is-invalid': (fullName.dirty || fullName.touched) && !fullName.valid }" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-6">
            <label for="password">Password</label>
            <input id="password" type="password" class="form-control form-control-sm" placeholder="Password (required)" formControlName="password"
              [ngClass]="{'is-invalid': (password.dirty || password.touched) && !password.valid }" />
          </div>
          <div class="form-group col-6">
            <label for="confirmPassword">Confirm Password</label>
            <input id="confirmPassword" type="password" class="form-control form-control-sm" placeholder="Please confirm your password"
              formControlName="confirmPassword" [ngClass]="{'is-invalid': userForm.errors?.match }" />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-6">
            <label for="nickName">Nickname</label>
            <input id="nickName" type="text" class="form-control form-control-sm" placeholder="Nickname (required)" formControlName="nickName"
              [ngClass]="{'is-invalid': (nickName.dirty || nickName.touched) && !nickName.valid }" />
          </div>
          <div class="form-group col-6">
            <label for="birthDate">Date of birth</label>
            <input id="birthDate" type="date" class="form-control form-control-sm" placeholder="Date of birth" formControlName="birthDate"
              [ngClass]="{'is-invalid': (birthDate.dirty || birthDate.touched) && !birthDate.valid }" />
          </div>
        </div>
      </div>
      <hr/>
      <h4>Flat</h4>
      <div formGroupName="flatForm">
        <div class="form-group">
          <label for="flatName">Flat Name</label>
          <input id="flatName" type="text" class="form-control form-control-sm" placeholder="Flat name (required)" formControlName="name"
            [ngClass]="{'is-invalid': (name.dirty || name.touched) && !name.valid }" />
        </div>
        <div class="form-group">
          <label for="address">Address</label>
          <input id="address" type="text" class="form-control form-control-sm" placeholder="Address (required)" formControlName="address"
            [ngClass]="{'is-invalid': (address.dirty || address.touched) && !address.valid }" />
        </div>
      </div>
      <div class="row">
        <div class="col-1">
          <button type="submit" class="btn btn-primary" [disabled]='!flatForm.valid'>Save</button>
        </div>
        <div class="col"></div>
        <div class="col-1">
          <button type="button" class="btn btn-outline-danger" [routerLink]="['/authentication']">Back</button>
        </div>
      </div>
    </fieldset>
  </form>
</div>